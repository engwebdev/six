{"__meta":{"id":"X681f84740375eb97b3c5b6e15e1bb674","datetime":"2021-12-12 12:57:33","utime":1639301253.93741,"method":"POST","uri":"\/api\/userRegister","ip":"127.0.0.1"},"php":{"version":"7.4.23","interface":"cli-server"},"messages":{"count":1,"messages":[{"message":"[12:57:33] LOG.info: send sms code 1253to mobile +989390001000","message_html":null,"is_string":false,"label":"info","time":1639301253.934255,"collector":"log"}]},"time":{"start":1639301253.459149,"end":1639301253.937429,"duration":0.47828006744384766,"duration_str":"478ms","measures":[{"label":"Booting","start":1639301253.459149,"relative_start":0,"end":1639301253.72546,"relative_end":1639301253.72546,"duration":0.2663111686706543,"duration_str":"266ms","params":[],"collector":null},{"label":"Application","start":1639301253.729575,"relative_start":0.27042603492736816,"end":1639301253.937432,"relative_end":3.0994415283203125e-6,"duration":0.2078571319580078,"duration_str":"208ms","params":[],"collector":null}]},"memory":{"peak_usage":23833752,"peak_usage_str":"23MB"},"exceptions":{"count":0,"exceptions":[]},"views":{"nb_templates":0,"templates":[]},"route":{"uri":"POST api\/userRegister","middleware":"api","controller":"App\\Http\\Controllers\\Api\\AuthController@userRegister","namespace":null,"prefix":"api","where":[],"as":"userRegister","file":"\\app\\Http\\Controllers\\Api\\AuthController.php:167-333"},"queries":{"nb_statements":8,"nb_failed_statements":0,"accumulated_duration":0.017429999999999998,"accumulated_duration_str":"17.43ms","statements":[{"sql":"select count(*) as aggregate from `users` where `mobile` = '+989390001000'","type":"query","params":[],"bindings":["+989390001000"],"hints":null,"show_copy":false,"backtrace":[{"index":14,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Validation\\DatabasePresenceVerifier.php","line":55},{"index":15,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Validation\\Concerns\\ValidatesAttributes.php","line":782},{"index":16,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Validation\\Validator.php","line":586},{"index":17,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Validation\\Validator.php","line":403},{"index":18,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Validation\\Validator.php","line":434}],"duration":0.0036,"duration_str":"3.6ms","stmt_id":"\\vendor\\laravel\\framework\\src\\Illuminate\\Validation\\DatabasePresenceVerifier.php:55","connection":"six","start_percent":0,"width_percent":20.654},{"sql":"select * from `users` where `mobile` = '+989390001000' and `users`.`deleted_at` is null limit 1","type":"query","params":[],"bindings":["+989390001000"],"hints":null,"show_copy":false,"backtrace":[{"index":15,"namespace":null,"name":"\\app\\Http\\Controllers\\Api\\AuthController.php","line":233},{"index":16,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php","line":61},{"index":17,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php","line":45},{"index":18,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php","line":254},{"index":19,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php","line":197}],"duration":0.00069,"duration_str":"690\u03bcs","stmt_id":"\\app\\Http\\Controllers\\Api\\AuthController.php:233","connection":"six","start_percent":20.654,"width_percent":3.959},{"sql":"select column_name as `column_name` from information_schema.columns where table_schema = 'six' and table_name = 'roles'","type":"query","params":[],"bindings":["six","roles"],"hints":null,"show_copy":false,"backtrace":[{"index":14,"namespace":null,"name":"\\vendor\\spatie\\laravel-permission\\src\\Models\\Role.php","line":26},{"index":16,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php","line":917},{"index":17,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php","line":754},{"index":18,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Application.php","line":841},{"index":19,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php","line":692}],"duration":0.00134,"duration_str":"1.34ms","stmt_id":"\\vendor\\spatie\\laravel-permission\\src\\Models\\Role.php:26","connection":"six","start_percent":24.613,"width_percent":7.688},{"sql":"select * from `roles` where `name` = 'shopkeeper' and `guard_name` = 'api' limit 1","type":"query","params":[],"bindings":["shopkeeper","api"],"hints":null,"show_copy":false,"backtrace":[{"index":15,"namespace":null,"name":"\\vendor\\spatie\\laravel-permission\\src\\Models\\Role.php","line":86},{"index":16,"namespace":null,"name":"\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php","line":304},{"index":17,"namespace":null,"name":"\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php","line":102},{"index":20,"namespace":null,"name":"\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php","line":103},{"index":21,"namespace":null,"name":"\\app\\Http\\Controllers\\Api\\AuthController.php","line":241}],"duration":0.0022299999999999998,"duration_str":"2.23ms","stmt_id":"\\vendor\\spatie\\laravel-permission\\src\\Models\\Role.php:86","connection":"six","start_percent":32.301,"width_percent":12.794},{"sql":"select * from `model_has_roles` where `model_has_roles`.`model_id` = 1 and `model_type` = 'App\\Models\\User'","type":"query","params":[],"bindings":["1","App\\Models\\User"],"hints":null,"show_copy":false,"backtrace":[{"index":15,"namespace":null,"name":"\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php","line":116},{"index":16,"namespace":null,"name":"\\app\\Http\\Controllers\\Api\\AuthController.php","line":241},{"index":17,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php","line":61},{"index":18,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php","line":45},{"index":19,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php","line":254}],"duration":0.00064,"duration_str":"640\u03bcs","stmt_id":"\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php:116","connection":"six","start_percent":45.095,"width_percent":3.672},{"sql":"insert into `model_has_roles` (`model_id`, `model_type`, `role_id`) values (1, 'App\\Models\\User', 1)","type":"query","params":[],"bindings":["1","App\\Models\\User","1"],"hints":null,"show_copy":false,"backtrace":[{"index":13,"namespace":null,"name":"\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php","line":116},{"index":14,"namespace":null,"name":"\\app\\Http\\Controllers\\Api\\AuthController.php","line":241},{"index":15,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php","line":61},{"index":16,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php","line":45},{"index":17,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php","line":254}],"duration":0.0051600000000000005,"duration_str":"5.16ms","stmt_id":"\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php:116","connection":"six","start_percent":48.766,"width_percent":29.604},{"sql":"select `roles`.*, `model_has_roles`.`model_id` as `pivot_model_id`, `model_has_roles`.`role_id` as `pivot_role_id`, `model_has_roles`.`model_type` as `pivot_model_type` from `roles` inner join `model_has_roles` on `roles`.`id` = `model_has_roles`.`role_id` where `model_has_roles`.`model_id` in (1) and `model_has_roles`.`model_type` = 'App\\Models\\User'","type":"query","params":[],"bindings":["App\\Models\\User"],"hints":null,"show_copy":false,"backtrace":[{"index":18,"namespace":null,"name":"\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php","line":117},{"index":19,"namespace":null,"name":"\\app\\Http\\Controllers\\Api\\AuthController.php","line":241},{"index":20,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php","line":61},{"index":21,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php","line":45},{"index":22,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php","line":254}],"duration":0.00067,"duration_str":"670\u03bcs","stmt_id":"\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php:117","connection":"six","start_percent":78.371,"width_percent":3.844},{"sql":"update `users` set `mobile_verified_code` = 1253, `mobile_verified_code_expire_time` = '2021-12-12 13:03:33', `users`.`updated_at` = '2021-12-12 12:57:33' where `id` = 1","type":"query","params":[],"bindings":["1253","2021-12-12 13:03:33","2021-12-12 12:57:33","1"],"hints":null,"show_copy":false,"backtrace":[{"index":13,"namespace":null,"name":"\\app\\Listeners\\SaveSMSVerificationCode.php","line":35},{"index":16,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\helpers.php","line":450},{"index":18,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php","line":61},{"index":19,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php","line":45},{"index":20,"namespace":null,"name":"\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php","line":254}],"duration":0.0031,"duration_str":"3.1ms","stmt_id":"\\app\\Listeners\\SaveSMSVerificationCode.php:35","connection":"six","start_percent":82.215,"width_percent":17.785}]},"models":{"data":{"Spatie\\Permission\\Models\\Role":2,"App\\Models\\User":1},"count":3},"livewire":{"data":[],"count":0},"swiftmailer_mails":{"count":0,"mails":[]},"gate":{"count":0,"messages":[]},"session":[],"request":{"path_info":"\/api\/userRegister","status_code":"<pre class=sf-dump id=sf-dump-738327779 data-indent-pad=\"  \"><span class=sf-dump-num>200<\/span>\n<\/pre><script>Sfdump(\"sf-dump-738327779\", {\"maxDepth\":0})<\/script>\n","status_text":"OK","format":"html","content_type":"application\/json","request_query":"<pre class=sf-dump id=sf-dump-1387502671 data-indent-pad=\"  \">[]\n<\/pre><script>Sfdump(\"sf-dump-1387502671\", {\"maxDepth\":0})<\/script>\n","request_request":"<pre class=sf-dump id=sf-dump-880392632 data-indent-pad=\"  \"><span class=sf-dump-note>array:4<\/span> [<samp data-depth=1 class=sf-dump-expanded>\n  \"<span class=sf-dump-key>country_name<\/span>\" => \"<span class=sf-dump-str title=\"2 characters\">IR<\/span>\"\n  \"<span class=sf-dump-key>country_code<\/span>\" => \"<span class=sf-dump-str title=\"3 characters\">+98<\/span>\"\n  \"<span class=sf-dump-key>mobile_phone_number<\/span>\" => <span class=sf-dump-num>9390001000<\/span>\n  \"<span class=sf-dump-key>client_type<\/span>\" => \"<span class=sf-dump-str title=\"4 characters\">shop<\/span>\"\n<\/samp>]\n<\/pre><script>Sfdump(\"sf-dump-880392632\", {\"maxDepth\":0})<\/script>\n","request_headers":"<pre class=sf-dump id=sf-dump-1144496171 data-indent-pad=\"  \"><span class=sf-dump-note>array:9<\/span> [<samp data-depth=1 class=sf-dump-expanded>\n  \"<span class=sf-dump-key>content-type<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp data-depth=2 class=sf-dump-compact>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"16 characters\">application\/json<\/span>\"\n  <\/samp>]\n  \"<span class=sf-dump-key>accept<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp data-depth=2 class=sf-dump-compact>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"16 characters\">application\/json<\/span>\"\n  <\/samp>]\n  \"<span class=sf-dump-key>user-agent<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp data-depth=2 class=sf-dump-compact>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"21 characters\">PostmanRuntime\/7.28.4<\/span>\"\n  <\/samp>]\n  \"<span class=sf-dump-key>cache-control<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp data-depth=2 class=sf-dump-compact>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"8 characters\">no-cache<\/span>\"\n  <\/samp>]\n  \"<span class=sf-dump-key>postman-token<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp data-depth=2 class=sf-dump-compact>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"36 characters\">2ee65355-e248-47a2-a180-f3093eab20c7<\/span>\"\n  <\/samp>]\n  \"<span class=sf-dump-key>host<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp data-depth=2 class=sf-dump-compact>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"14 characters\">127.0.0.1:8001<\/span>\"\n  <\/samp>]\n  \"<span class=sf-dump-key>accept-encoding<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp data-depth=2 class=sf-dump-compact>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"17 characters\">gzip, deflate, br<\/span>\"\n  <\/samp>]\n  \"<span class=sf-dump-key>connection<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp data-depth=2 class=sf-dump-compact>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"10 characters\">keep-alive<\/span>\"\n  <\/samp>]\n  \"<span class=sf-dump-key>content-length<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp data-depth=2 class=sf-dump-compact>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"3 characters\">118<\/span>\"\n  <\/samp>]\n<\/samp>]\n<\/pre><script>Sfdump(\"sf-dump-1144496171\", {\"maxDepth\":0})<\/script>\n","request_server":"<pre class=sf-dump id=sf-dump-1319849318 data-indent-pad=\"  \"><span class=sf-dump-note>array:26<\/span> [<samp data-depth=1 class=sf-dump-expanded>\n  \"<span class=sf-dump-key>DOCUMENT_ROOT<\/span>\" => \"<span class=sf-dump-str title=\"32 characters\">C:\\wamp\\www\\local.six\\six\\public<\/span>\"\n  \"<span class=sf-dump-key>REMOTE_ADDR<\/span>\" => \"<span class=sf-dump-str title=\"9 characters\">127.0.0.1<\/span>\"\n  \"<span class=sf-dump-key>REMOTE_PORT<\/span>\" => \"<span class=sf-dump-str title=\"5 characters\">21467<\/span>\"\n  \"<span class=sf-dump-key>SERVER_SOFTWARE<\/span>\" => \"<span class=sf-dump-str title=\"29 characters\">PHP 7.4.23 Development Server<\/span>\"\n  \"<span class=sf-dump-key>SERVER_PROTOCOL<\/span>\" => \"<span class=sf-dump-str title=\"8 characters\">HTTP\/1.1<\/span>\"\n  \"<span class=sf-dump-key>SERVER_NAME<\/span>\" => \"<span class=sf-dump-str title=\"9 characters\">127.0.0.1<\/span>\"\n  \"<span class=sf-dump-key>SERVER_PORT<\/span>\" => \"<span class=sf-dump-str title=\"4 characters\">8001<\/span>\"\n  \"<span class=sf-dump-key>REQUEST_URI<\/span>\" => \"<span class=sf-dump-str title=\"17 characters\">\/api\/userRegister<\/span>\"\n  \"<span class=sf-dump-key>REQUEST_METHOD<\/span>\" => \"<span class=sf-dump-str title=\"4 characters\">POST<\/span>\"\n  \"<span class=sf-dump-key>SCRIPT_NAME<\/span>\" => \"<span class=sf-dump-str title=\"10 characters\">\/index.php<\/span>\"\n  \"<span class=sf-dump-key>SCRIPT_FILENAME<\/span>\" => \"<span class=sf-dump-str title=\"42 characters\">C:\\wamp\\www\\local.six\\six\\public\\index.php<\/span>\"\n  \"<span class=sf-dump-key>PATH_INFO<\/span>\" => \"<span class=sf-dump-str title=\"17 characters\">\/api\/userRegister<\/span>\"\n  \"<span class=sf-dump-key>PHP_SELF<\/span>\" => \"<span class=sf-dump-str title=\"27 characters\">\/index.php\/api\/userRegister<\/span>\"\n  \"<span class=sf-dump-key>CONTENT_TYPE<\/span>\" => \"<span class=sf-dump-str title=\"16 characters\">application\/json<\/span>\"\n  \"<span class=sf-dump-key>HTTP_CONTENT_TYPE<\/span>\" => \"<span class=sf-dump-str title=\"16 characters\">application\/json<\/span>\"\n  \"<span class=sf-dump-key>HTTP_ACCEPT<\/span>\" => \"<span class=sf-dump-str title=\"16 characters\">application\/json<\/span>\"\n  \"<span class=sf-dump-key>HTTP_USER_AGENT<\/span>\" => \"<span class=sf-dump-str title=\"21 characters\">PostmanRuntime\/7.28.4<\/span>\"\n  \"<span class=sf-dump-key>HTTP_CACHE_CONTROL<\/span>\" => \"<span class=sf-dump-str title=\"8 characters\">no-cache<\/span>\"\n  \"<span class=sf-dump-key>HTTP_POSTMAN_TOKEN<\/span>\" => \"<span class=sf-dump-str title=\"6 characters\">******<\/span>\"\n  \"<span class=sf-dump-key>HTTP_HOST<\/span>\" => \"<span class=sf-dump-str title=\"14 characters\">127.0.0.1:8001<\/span>\"\n  \"<span class=sf-dump-key>HTTP_ACCEPT_ENCODING<\/span>\" => \"<span class=sf-dump-str title=\"17 characters\">gzip, deflate, br<\/span>\"\n  \"<span class=sf-dump-key>HTTP_CONNECTION<\/span>\" => \"<span class=sf-dump-str title=\"10 characters\">keep-alive<\/span>\"\n  \"<span class=sf-dump-key>CONTENT_LENGTH<\/span>\" => \"<span class=sf-dump-str title=\"3 characters\">118<\/span>\"\n  \"<span class=sf-dump-key>HTTP_CONTENT_LENGTH<\/span>\" => \"<span class=sf-dump-str title=\"3 characters\">118<\/span>\"\n  \"<span class=sf-dump-key>REQUEST_TIME_FLOAT<\/span>\" => <span class=sf-dump-num>1639301253.4591<\/span>\n  \"<span class=sf-dump-key>REQUEST_TIME<\/span>\" => <span class=sf-dump-num>1639301253<\/span>\n<\/samp>]\n<\/pre><script>Sfdump(\"sf-dump-1319849318\", {\"maxDepth\":0})<\/script>\n","request_cookies":"<pre class=sf-dump id=sf-dump-1963691021 data-indent-pad=\"  \">[]\n<\/pre><script>Sfdump(\"sf-dump-1963691021\", {\"maxDepth\":0})<\/script>\n","response_headers":"<pre class=sf-dump id=sf-dump-1316645496 data-indent-pad=\"  \"><span class=sf-dump-note>array:5<\/span> [<samp data-depth=1 class=sf-dump-expanded>\n  \"<span class=sf-dump-key>cache-control<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp data-depth=2 class=sf-dump-compact>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"17 characters\">no-cache, private<\/span>\"\n  <\/samp>]\n  \"<span class=sf-dump-key>date<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp data-depth=2 class=sf-dump-compact>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"29 characters\">Sun, 12 Dec 2021 09:27:33 GMT<\/span>\"\n  <\/samp>]\n  \"<span class=sf-dump-key>content-type<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp data-depth=2 class=sf-dump-compact>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"16 characters\">application\/json<\/span>\"\n  <\/samp>]\n  \"<span class=sf-dump-key>x-ratelimit-limit<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp data-depth=2 class=sf-dump-compact>\n    <span class=sf-dump-index>0<\/span> => <span class=sf-dump-num>60<\/span>\n  <\/samp>]\n  \"<span class=sf-dump-key>x-ratelimit-remaining<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp data-depth=2 class=sf-dump-compact>\n    <span class=sf-dump-index>0<\/span> => <span class=sf-dump-num>59<\/span>\n  <\/samp>]\n<\/samp>]\n<\/pre><script>Sfdump(\"sf-dump-1316645496\", {\"maxDepth\":0})<\/script>\n","session_attributes":"<pre class=sf-dump id=sf-dump-1528176129 data-indent-pad=\"  \">[]\n<\/pre><script>Sfdump(\"sf-dump-1528176129\", {\"maxDepth\":0})<\/script>\n"}}